@{

    Layout = "_LayoutPortal2";
}
@model IEnumerable<TicketWeb.Data.ChuyenBay>


@{
    ViewData["Title"] = "Quản lí chuyến bay";
}

<h1>Quản lí chuyến bay</h1>
<div style="text-align:center">
    @using (Html.BeginForm("Index", "Flight"))
    {
        <b>Tìm kiếm theo: </b>
        <label for="searchMaChuyenBay">Mã chuyến bay</label>
        @Html.TextBox("searchMaChuyenBay")
        <label for="searchSanBayDi_ID">Sân bay đi</label>
        <select class="searchSanBayDi_ID" asp-items="@ViewBag.SanBayDi" name="searchSanBayDi_ID" id="searchSanBayDi_ID" style="width:200px;"></select>
        <label for="searchSanBayDen_ID">Sân bay đến</label>
        <select class="searchSanBayDen_ID" asp-items="@ViewBag.SanBayDen" name="searchSanBayDen_ID" id="searchSanBayDen_ID" style="width:200px;"></select>
        <label for="searchThoiGianDuKienBay">Thời gian dự kiến bay</label>
        @Html.TextBox("searchThoiGianDuKienBay")
        <label for="searchSoGhe_Hang1">Số ghế hạng 1</label>
        @Html.TextBox("searchSoGhe_Hang1")
        <label for="searchSoGhe_Hang2">Số ghế hạng 2</label>
        @Html.TextBox("searchSoGhe_Hang2")<br>
        <label for="searchMayBayID">Máy bay</label>
        <select class="searchMayBayID" asp-items="@ViewBag.MayBay" name="searchMayBayID" id="searchMayBayID" style="width:200px;"></select>
        <input type="submit" value="Tìm" />
        <button>Hủy tìm kiếm</button>
    }
</div>
<p>
    <a asp-action="Create">Thêm chuyến bay</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.MaChuyenBay)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SanBayDi_ID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SanBayDen_ID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ThoiGianDuKienBay)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SoGhe_Hang1)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SoGhe_Hang2)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.MayBayID)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.ID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MaChuyenBay)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SanBayDi_ID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SanBayDen_ID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ThoiGianDuKienBay)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoGhe_Hang1)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoGhe_Hang2)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MayBayID)
                </td>
                <td>
                    @Html.ActionLink("Chỉnh sửa", "Edit", new { id= item.ID }) |
                    @Html.ActionLink("Xóa", "Delete", new { id = item.ID })
                </td>
            </tr>
        }
    </tbody>
</table>


@section Scripts {
    <script>
        $('.searchSanBayDi_ID').select2();
    </script>
    <script>
        $('.searchSanBayDen_ID').select2();
    </script>
    <script>
        $('.searchMayBayID').select2();
    </script>


}
